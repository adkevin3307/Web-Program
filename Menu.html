<html>
    <head>
        <meta charset = "utf-8">
        <title>Menu</title>
        <link rel = "stylesheet" type = "text/css" href = "./style.css">
        <script src = "https://code.jquery.com/jquery-1.12.3.min.js"></script>
        <script>
            var jsonPath = {
                "海大燒臘": "vpfcy",
                "金園": "ooif6",
                "818": "1e809u",
                "八方雲集": "x0epu",
                "豚將": "xlubm",
                "三媽": "s8xvm",
                "佬地方牛排": "1apdmq",
                "佳汶麵食館": "nhh1e",
                "牛餃鏖鋒": "o51sy",
                "陳家麵店": "cttb6",
                "晶彩": "17scrm",
                "寶妹": "18dsde",
                "阿水飯麵館": "13mbj6",
                "家薌牛肉麵": "1a636q",
                "涵館": "14t6qq",
                "港式燒臘便當": "uxe3m"
            }

            $(function() {
                $('nav').mouseenter(function() {
                    $('#total_select').css('height', '280px').hover(
                        function() {
                            $('.modify_ul').fadeIn(500);
                            $('.modify_ul').css('background-color', 'rgb(145, 145, 145)');
                        },
                        function() {
                            $('.modify_ul').fadeOut(500);
                            $(this).css('height', '50px');
                        }
                    );
                });
                $('nav ul li').hover(
                    function() {
                        $(this).css('background-color', 'white');
                    },
                    function() {
                        $(this).css('background-color', 'rgb(145, 145, 145)');
                    }
                );
                $('li').click(changeMenu);
                $('#comment').click(function() {
                    window.alert('Not finish yet');
                });
            });

            function changeMenu(e) {
                $('#introduce').show();
                $.getJSON('https://api.myjson.com/bins/' + jsonPath[e.target.id], function(data) {
                    $("#menu").html("");
                    var content = "<tr><th>菜名</th><th>價錢</th><th>菜名</th><th>價錢</th></tr>";
                    for (var index = 0; index < data.length - 1; index += 2) {
                        content += 
                            "<tr>" + 
                            "<td>" + data[index].dish + "</td>" + 
                            "<td style = 'background-color: powderblue'>" + data[index].amount + "</td>" + 
                            "<td>" + data[index + 1].dish + "</td>" + 
                            "<td style = 'background-color: powderblue'>" + data[index + 1].amount + "</td>" + 
                            "</tr>";
                    }
                    content += '<tr style = "height: 20px;"></tr>';
                    $("#menu").html(content);
                });
            }
        </script>
    </head>
    <body>
        <div>
            <br>
            <div class = 'header'>選餐囉</div>
            <div style = 'text-align: right; font-size: 20px'>
                <a href = "./Random.html">選人</a>
            </div>
            <br>
        </div>
        <div id = 'total_select' style = 'width: 100%; height: 280px;'>
            <nav>北寧路
                <div class = 'modify_ul'>
                    <ul></ul>
                </div>
            </nav>
            <nav>祥豐街
                <div class = 'modify_ul'>
                    <ul>
                        <li id = "阿水飯麵館">阿水飯麵館</li>
                        <li id = "金園">金園</li>
                        <li id = "家薌牛肉麵">家薌牛肉麵</li>
                    </ul>
                </div>
            </nav>
            <nav>中正路
                <div class = 'modify_ul'>
                    <ul>
                        <li id = "818">捌壹捌麵館</li>
                        <li id = "三媽">三媽臭臭鍋</li>
                        <li id = "八方雲集">八方雲集</li>
                        <li id = "涵館">涵館</li>
                        <li id = "海大燒臘">海大燒臘</li>
                        <li id = "佳汶麵食館">佳汶麵食館</li>
                        <li id = "港式燒臘便當">港式燒臘便當</li>
                    </ul>
                </div>
            </nav>
            <nav>新豐街
                <div class = 'modify_ul'>
                    <ul></ul>
                </div>
            </nav>
        </div>
        <table id = "menu"></table>
        <div id = 'introduce' style = 'position: absolute; right: 20px; top: 20px; display: none;'>
            <input id = 'comment' type = 'button' value = '本組愚見' style = 'height: 50px; width: 100px'>
        </div>
    </body>
</html>